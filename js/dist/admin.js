/*! For license information please see admin.js.LICENSE.txt */
(()=>{var t={648:(t,e,n)=>{var r=n(288).default;function i(){"use strict";t.exports=i=function(){return e},t.exports.__esModule=!0,t.exports.default=t.exports;var e={},n=Object.prototype,o=n.hasOwnProperty,s=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},l=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function h(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(t){h=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var i=e&&e.prototype instanceof v?e:v,o=Object.create(i.prototype),a=new P(r||[]);return s(o,"_invoke",{value:w(t,n,a)}),o}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p={};function v(){}function y(){}function g(){}var m={};h(m,l,(function(){return this}));var b=Object.getPrototypeOf,_=b&&b(b(U([])));_&&_!==n&&o.call(_,l)&&(m=_);var A=g.prototype=v.prototype=Object.create(m);function $(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function n(i,s,a,l){var u=d(t[i],t,s);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==r(h)&&o.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,l)}),(function(t){n("throw",t,a,l)})):e.resolve(h).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,l)}))}l(u.arg)}var i;s(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}})}function w(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=S(s,n);if(a){if(a===p)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=d(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function S(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var i=d(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,p;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function U(t){if(t){var e=t[l];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(o.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:C}}function C(){return{value:void 0,done:!0}}return y.prototype=g,s(A,"constructor",{value:g,configurable:!0}),s(g,"constructor",{value:y,configurable:!0}),y.displayName=h(g,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,h(t,c,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},$(x.prototype),h(x.prototype,u,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var s=new x(f(t,n,r,i),o);return e.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},$(A),h(A,c,"Generator"),h(A,l,(function(){return this})),h(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=U,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return s.type="throw",s.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var a=o.call(i,"catchLoc"),l=o.call(i,"finallyLoc");if(a&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:U(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},288:t=>{function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},357:(t,e,n)=>{var r=n(648)();t.exports=r;try{regeneratorRuntime=r}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};(()=>{"use strict";function t(){return t=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t.apply(this,arguments)}function e(t,e){return e||(e=t.slice(0)),t.raw=e,t}function i(t,e,n,r,i,o,s){try{var a=t[o](s),l=a.value}catch(t){return void n(t)}a.done?e(l):Promise.resolve(l).then(r,i)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var s=t.apply(e,n);function a(t){i(s,r,o,a,l,"next",t)}function l(t){i(s,r,o,a,l,"throw",t)}a(void 0)}))}}function s(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function u(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,l(t,e)}function c(t,e,n,r,i){var o={};return Object.keys(r).forEach((function(t){o[t]=r[t]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}n.r(r),n.d(r,{RelatedDiscussionsSettings:()=>Se});var h=n(357),f=n.n(h);const d=flarum.core.compat["admin/app"];var p=n.n(d);const v=flarum.core.compat["common/Component"];var y=n.n(v);function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==g(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(i),"symbol"===g(o)?o:String(o)),r)}var i,o}function _(t,e,n){return e&&b(t.prototype,e),n&&b(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function A(t){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},A(t)}function $(t,e,n){return $=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&l(i,n.prototype),i},$.apply(null,arguments)}function x(t){var e="function"==typeof Map?new Map:void 0;return x=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return $(t,arguments,A(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),l(r,t)},x(t)}function w(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return S(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var E,O=globalThis,P=O.ShadowRoot&&(void 0===O.ShadyCSS||O.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,U=Symbol(),C=new WeakMap,k=function(){function t(t,e,n){if(this._$cssResult$=!0,n!==U)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}return t.prototype.toString=function(){return this.cssText},_(t,[{key:"styleSheet",get:function(){var t=this.o,e=this.t;if(P&&void 0===t){var n=void 0!==e&&1===e.length;n&&(t=C.get(e)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),n&&C.set(e,t))}return t}}]),t}(),T=P?function(t){return t}:function(t){return t instanceof CSSStyleSheet?function(t){for(var e,n="",r=w(t.cssRules);!(e=r()).done;)n+=e.value.cssText;return function(t){return new k("string"==typeof t?t:t+"",void 0,U)}(n)}(t):t};function j(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return L(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function L(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var R=Object.is,I=Object.defineProperty,M=Object.getOwnPropertyDescriptor,H=Object.getOwnPropertyNames,N=Object.getOwnPropertySymbols,z=Object.getPrototypeOf,D=globalThis,B=D.trustedTypes,q=B?B.emptyScript:"",F=D.reactiveElementPolyfillSupport,V=function(t,e){return t},G={toAttribute:function(t,e){switch(e){case Boolean:t=t?q:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute:function(t,e){var n=t;switch(e){case Boolean:n=null!==t;break;case Number:n=null===t?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch(t){n=null}}return n}},W=function(t,e){return!R(t,e)},J={attribute:!0,type:String,converter:G,reflect:!1,hasChanged:W};null!=Symbol.metadata||(Symbol.metadata=Symbol("metadata")),null!=D.litPropertyMetadata||(D.litPropertyMetadata=new WeakMap);var K,Q=function(t){function e(){var e;return(e=t.call(this)||this)._$Ep=void 0,e.isUpdatePending=!1,e.hasUpdated=!1,e._$Em=null,e._$Ev(),e}u(e,t),e.addInitializer=function(t){var e;this._$Ei(),(null!=(e=this.l)?e:this.l=[]).push(t)},e.createProperty=function(t,e){if(void 0===e&&(e=J),e.state&&(e.attribute=!1),this._$Ei(),this.elementProperties.set(t,e),!e.noAccessor){var n=Symbol(),r=this.getPropertyDescriptor(t,n,e);void 0!==r&&I(this.prototype,t,r)}},e.getPropertyDescriptor=function(t,e,n){var r,i=null!=(r=M(this.prototype,t))?r:{get:function(){return this[e]},set:function(t){this[e]=t}},o=i.get,s=i.set;return{get:function(){return null==o?void 0:o.call(this)},set:function(e){var r=null==o?void 0:o.call(this);s.call(this,e),this.requestUpdate(t,r,n)},configurable:!0,enumerable:!0}},e.getPropertyOptions=function(t){var e;return null!=(e=this.elementProperties.get(t))?e:J},e._$Ei=function(){if(!this.hasOwnProperty(V("elementProperties"))){var t=z(this);t.finalize(),void 0!==t.l&&(this.l=[].concat(t.l)),this.elementProperties=new Map(t.elementProperties)}},e.finalize=function(){if(!this.hasOwnProperty(V("finalized"))){if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(V("properties")))for(var t,e=this.properties,n=j([].concat(H(e),N(e)));!(t=n()).done;){var r=t.value;this.createProperty(r,e[r])}var i=this[Symbol.metadata];if(null!==i){var o=litPropertyMetadata.get(i);if(void 0!==o)for(var s,a=j(o);!(s=a()).done;){var l=s.value,u=l[0],c=l[1];this.elementProperties.set(u,c)}}this._$Eh=new Map;for(var h,f=j(this.elementProperties);!(h=f()).done;){var d=h.value,p=d[0],v=d[1],y=this._$Eu(p,v);void 0!==y&&this._$Eh.set(y,p)}this.elementStyles=this.finalizeStyles(this.styles)}},e.finalizeStyles=function(t){var e=[];if(Array.isArray(t))for(var n,r=j(new Set(t.flat(1/0).reverse()));!(n=r()).done;){var i=n.value;e.unshift(T(i))}else void 0!==t&&e.push(T(t));return e},e._$Eu=function(t,e){var n=e.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof t?t.toLowerCase():void 0};var n=e.prototype;return n._$Ev=function(){var t,e=this;this._$ES=new Promise((function(t){return e.enableUpdating=t})),this._$AL=new Map,this._$E_(),this.requestUpdate(),null==(t=this.constructor.l)||t.forEach((function(t){return t(e)}))},n.addController=function(t){var e;(null!=(e=this._$EO)?e:this._$EO=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&(null==t.hostConnected||t.hostConnected())},n.removeController=function(t){var e;null==(e=this._$EO)||e.delete(t)},n._$E_=function(){for(var t,e=new Map,n=j(this.constructor.elementProperties.keys());!(t=n()).done;){var r=t.value;this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r])}e.size>0&&(this._$Ep=e)},n.createRenderRoot=function(){var t,e=null!=(t=this.shadowRoot)?t:this.attachShadow(this.constructor.shadowRootOptions);return function(t,e){if(P)t.adoptedStyleSheets=e.map((function(t){return t instanceof CSSStyleSheet?t:t.styleSheet}));else for(var n,r=w(e);!(n=r()).done;){var i=n.value,o=document.createElement("style"),s=O.litNonce;void 0!==s&&o.setAttribute("nonce",s),o.textContent=i.cssText,t.appendChild(o)}}(e,this.constructor.elementStyles),e},n.connectedCallback=function(){var t;null!=this.renderRoot||(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null==(t=this._$EO)||t.forEach((function(t){return null==t.hostConnected?void 0:t.hostConnected()}))},n.enableUpdating=function(t){},n.disconnectedCallback=function(){var t;null==(t=this._$EO)||t.forEach((function(t){return null==t.hostDisconnected?void 0:t.hostDisconnected()}))},n.attributeChangedCallback=function(t,e,n){this._$AK(t,n)},n._$EC=function(t,e){var n=this.constructor.elementProperties.get(t),r=this.constructor._$Eu(t,n);if(void 0!==r&&!0===n.reflect){var i,o=(void 0!==(null==(i=n.converter)?void 0:i.toAttribute)?n.converter:G).toAttribute(e,n.type);this._$Em=t,null==o?this.removeAttribute(r):this.setAttribute(r,o),this._$Em=null}},n._$AK=function(t,e){var n=this.constructor,r=n._$Eh.get(t);if(void 0!==r&&this._$Em!==r){var i,o=n.getPropertyOptions(r),s="function"==typeof o.converter?{fromAttribute:o.converter}:void 0!==(null==(i=o.converter)?void 0:i.fromAttribute)?o.converter:G;this._$Em=r,this[r]=s.fromAttribute(e,o.type),this._$Em=null}},n.requestUpdate=function(t,e,n){if(void 0!==t){var r;if(null!=n||(n=this.constructor.getPropertyOptions(t)),!(null!=(r=n.hasChanged)?r:W)(this[t],e))return;this.P(t,e,n)}!1===this.isUpdatePending&&(this._$ES=this._$ET())},n.P=function(t,e,n){var r;this._$AL.has(t)||this._$AL.set(t,e),!0===n.reflect&&this._$Em!==t&&(null!=(r=this._$Ej)?r:this._$Ej=new Set).add(t)},n._$ET=function(){var t=o(h.mark((function t(){var e;return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.isUpdatePending=!0,t.prev=1,t.next=4,this._$ES;case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),Promise.reject(t.t0);case 9:if(e=this.scheduleUpdate(),t.t1=null!=e,!t.t1){t.next=14;break}return t.next=14,e;case 14:return t.abrupt("return",!this.isUpdatePending);case 15:case"end":return t.stop()}}),t,this,[[1,6]])})));return function(){return t.apply(this,arguments)}}(),n.scheduleUpdate=function(){return this.performUpdate()},n.performUpdate=function(){if(this.isUpdatePending){if(!this.hasUpdated){if(null!=this.renderRoot||(this.renderRoot=this.createRenderRoot()),this._$Ep){for(var t,e=j(this._$Ep);!(t=e()).done;){var n=t.value,r=n[0],i=n[1];this[r]=i}this._$Ep=void 0}var o=this.constructor.elementProperties;if(o.size>0)for(var s,a=j(o);!(s=a()).done;){var l=s.value,u=l[0],c=l[1];!0!==c.wrapped||this._$AL.has(u)||void 0===this[u]||this.P(u,this[u],c)}}var h=!1,f=this._$AL;try{var d;(h=this.shouldUpdate(f))?(this.willUpdate(f),null!=(d=this._$EO)&&d.forEach((function(t){return null==t.hostUpdate?void 0:t.hostUpdate()})),this.update(f)):this._$EU()}catch(f){throw h=!1,this._$EU(),f}h&&this._$AE(f)}},n.willUpdate=function(t){},n._$AE=function(t){var e;null!=(e=this._$EO)&&e.forEach((function(t){return null==t.hostUpdated?void 0:t.hostUpdated()})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)},n._$EU=function(){this._$AL=new Map,this.isUpdatePending=!1},n.getUpdateComplete=function(){return this._$ES},n.shouldUpdate=function(t){return!0},n.update=function(t){var e=this;this._$Ej&&(this._$Ej=this._$Ej.forEach((function(t){return e._$EC(t,e[t])}))),this._$EU()},n.updated=function(t){},n.firstUpdated=function(t){},_(e,[{key:"updateComplete",get:function(){return this.getUpdateComplete()}}],[{key:"observedAttributes",get:function(){return this.finalize(),this._$Eh&&[].concat(this._$Eh.keys())}}]),e}(x(HTMLElement));function Y(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Z(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Q.elementStyles=[],Q.shadowRootOptions={mode:"open"},Q[V("elementProperties")]=new Map,Q[V("finalized")]=new Map,null!=F&&F({ReactiveElement:Q}),(null!=(E=D.reactiveElementVersions)?E:D.reactiveElementVersions=[]).push("2.0.4");var X=globalThis,tt=X.trustedTypes,et=tt?tt.createPolicy("lit-html",{createHTML:function(t){return t}}):void 0,nt="$lit$",rt="lit$"+(Math.random()+"").slice(9)+"$",it="?"+rt,ot="<"+it+">",st=document,at=function(){return st.createComment("")},lt=function(t){return null===t||"object"!=typeof t&&"function"!=typeof t},ut=Array.isArray,ct=function(t){return ut(t)||"function"==typeof(null==t?void 0:t[Symbol.iterator])},ht="[ \t\n\f\r]",ft=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,dt=/-->/g,pt=/>/g,vt=RegExp(">|"+ht+"(?:([^\\s\"'>=/]+)("+ht+"*="+ht+"*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)","g"),yt=/'/g,gt=/"/g,mt=/^(?:script|style|textarea|title)$/i,bt=function(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return{_$litType$:t,strings:e,values:r}}},_t=bt(1),At=(bt(2),Symbol.for("lit-noChange")),$t=Symbol.for("lit-nothing"),xt=new WeakMap,wt=st.createTreeWalker(st,129);function St(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==et?et.createHTML(e):e}var Et=function(t,e){for(var n,r=t.length-1,i=[],o=2===e?"<svg>":"",s=ft,a=0;a<r;a++){for(var l=t[a],u=void 0,c=void 0,h=-1,f=0;f<l.length&&(s.lastIndex=f,null!==(c=s.exec(l)));){var d;f=s.lastIndex,s===ft?"!--"===c[1]?s=dt:void 0!==c[1]?s=pt:void 0!==c[2]?(mt.test(c[2])&&(n=RegExp("</"+c[2],"g")),s=vt):void 0!==c[3]&&(s=vt):s===vt?">"===c[0]?(s=null!=(d=n)?d:ft,h=-1):void 0===c[1]?h=-2:(h=s.lastIndex-c[2].length,u=c[1],s=void 0===c[3]?vt:'"'===c[3]?gt:yt):s===gt||s===yt?s=vt:s===dt||s===pt?s=ft:(s=vt,n=void 0)}var p=s===vt&&t[a+1].startsWith("/>")?" ":"";o+=s===ft?l+ot:h>=0?(i.push(u),l.slice(0,h)+nt+l.slice(h)+rt+p):l+rt+(-2===h?a:p)}return[St(t,o+(t[r]||"<?>")+(2===e?"</svg>":"")),i]},Ot=function(){function t(e,n){var r,i=e.strings,o=e._$litType$;this.parts=[];var s=0,a=0,l=i.length-1,u=this.parts,c=Et(i,o),h=c[0],f=c[1];if(this.el=t.createElement(h,n),wt.currentNode=this.el.content,2===o){var d=this.el.content.firstChild;d.replaceWith.apply(d,d.childNodes)}for(;null!==(r=wt.nextNode())&&u.length<l;){if(1===r.nodeType){if(r.hasAttributes())for(var p,v=Y(r.getAttributeNames());!(p=v()).done;){var y=p.value;if(y.endsWith(nt)){var g=f[a++],m=r.getAttribute(y).split(rt),b=/([.?@])?(.*)/.exec(g);u.push({type:1,index:s,name:b[2],strings:m,ctor:"."===b[1]?Tt:"?"===b[1]?jt:"@"===b[1]?Lt:kt}),r.removeAttribute(y)}else y.startsWith(rt)&&(u.push({type:6,index:s}),r.removeAttribute(y))}if(mt.test(r.tagName)){var _=r.textContent.split(rt),A=_.length-1;if(A>0){r.textContent=tt?tt.emptyScript:"";for(var $=0;$<A;$++)r.append(_[$],at()),wt.nextNode(),u.push({type:2,index:++s});r.append(_[A],at())}}}else if(8===r.nodeType)if(r.data===it)u.push({type:2,index:s});else for(var x=-1;-1!==(x=r.data.indexOf(rt,x+1));)u.push({type:7,index:s}),x+=rt.length-1;s++}}return t.createElement=function(t,e){var n=st.createElement("template");return n.innerHTML=t,n},t}();function Pt(t,e,n,r){var i,o,s,a,l;if(void 0===n&&(n=t),e===At)return e;var u=void 0!==r?null==(i=n._$Co)?void 0:i[r]:n._$Cl,c=lt(e)?void 0:e._$litDirective$;return(null==(o=u)?void 0:o.constructor)!==c&&(null!=(s=u)&&null!=s._$AO&&s._$AO(!1),void 0===c?u=void 0:(u=new c(t))._$AT(t,n,r),void 0!==r?(null!=(l=(a=n)._$Co)?l:a._$Co=[])[r]=u:n._$Cl=u),void 0!==u&&(e=Pt(t,u._$AS(t,e.values),u,r)),e}var Ut=function(){function t(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}var e=t.prototype;return e.u=function(t){var e,n=this._$AD,r=n.el.content,i=n.parts,o=(null!=(e=null==t?void 0:t.creationScope)?e:st).importNode(r,!0);wt.currentNode=o;for(var s=wt.nextNode(),a=0,l=0,u=i[0];void 0!==u;){var c;if(a===u.index){var h=void 0;2===u.type?h=new Ct(s,s.nextSibling,this,t):1===u.type?h=new u.ctor(s,u.name,u.strings,this,t):6===u.type&&(h=new Rt(s,this,t)),this._$AV.push(h),u=i[++l]}a!==(null==(c=u)?void 0:c.index)&&(s=wt.nextNode(),a++)}return wt.currentNode=st,o},e.p=function(t){for(var e,n=0,r=Y(this._$AV);!(e=r()).done;){var i=e.value;void 0!==i&&(void 0!==i.strings?(i._$AI(t,i,n),n+=i.strings.length-2):i._$AI(t[n])),n++}},_(t,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}}]),t}(),Ct=function(){function t(t,e,n,r){var i;this.type=2,this._$AH=$t,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=r,this._$Cv=null==(i=null==r?void 0:r.isConnected)||i}var e=t.prototype;return e._$AI=function(t,e){void 0===e&&(e=this),t=Pt(this,t,e),lt(t)?t===$t||null==t||""===t?(this._$AH!==$t&&this._$AR(),this._$AH=$t):t!==this._$AH&&t!==At&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):ct(t)?this.k(t):this._(t)},e.S=function(t){return this._$AA.parentNode.insertBefore(t,this._$AB)},e.T=function(t){this._$AH!==t&&(this._$AR(),this._$AH=this.S(t))},e._=function(t){this._$AH!==$t&&lt(this._$AH)?this._$AA.nextSibling.data=t:this.T(st.createTextNode(t)),this._$AH=t},e.$=function(t){var e,n=t.values,r=t._$litType$,i="number"==typeof r?this._$AC(t):(void 0===r.el&&(r.el=Ot.createElement(St(r.h,r.h[0]),this.options)),r);if((null==(e=this._$AH)?void 0:e._$AD)===i)this._$AH.p(n);else{var o=new Ut(i,this),s=o.u(this.options);o.p(n),this.T(s),this._$AH=o}},e._$AC=function(t){var e=xt.get(t.strings);return void 0===e&&xt.set(t.strings,e=new Ot(t)),e},e.k=function(e){ut(this._$AH)||(this._$AH=[],this._$AR());for(var n,r,i=this._$AH,o=0,s=Y(e);!(r=s()).done;){var a=r.value;o===i.length?i.push(n=new t(this.S(at()),this.S(at()),this,this.options)):n=i[o],n._$AI(a),o++}o<i.length&&(this._$AR(n&&n._$AB.nextSibling,o),i.length=o)},e._$AR=function(t,e){for(void 0===t&&(t=this._$AA.nextSibling),null==(n=this._$AP)||n.call(this,!1,!0,e);t&&t!==this._$AB;){var n,r=t.nextSibling;t.remove(),t=r}},e.setConnected=function(t){var e;void 0===this._$AM&&(this._$Cv=t,null==(e=this._$AP)||e.call(this,t))},_(t,[{key:"_$AU",get:function(){var t,e;return null!=(t=null==(e=this._$AM)?void 0:e._$AU)?t:this._$Cv}},{key:"parentNode",get:function(){var t,e=this._$AA.parentNode,n=this._$AM;return void 0!==n&&11===(null==(t=e)?void 0:t.nodeType)&&(e=n.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}}]),t}(),kt=function(){function t(t,e,n,r,i){this.type=1,this._$AH=$t,this._$AN=void 0,this.element=t,this.name=e,this._$AM=r,this.options=i,n.length>2||""!==n[0]||""!==n[1]?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=$t}var e=t.prototype;return e._$AI=function(t,e,n,r){void 0===e&&(e=this);var i=this.strings,o=!1;if(void 0===i)t=Pt(this,t,e,0),(o=!lt(t)||t!==this._$AH&&t!==At)&&(this._$AH=t);else{var s,a,l=t;for(t=i[0],s=0;s<i.length-1;s++){var u;(a=Pt(this,l[n+s],e,s))===At&&(a=this._$AH[s]),o||(o=!lt(a)||a!==this._$AH[s]),a===$t?t=$t:t!==$t&&(t+=(null!=(u=a)?u:"")+i[s+1]),this._$AH[s]=a}}o&&!r&&this.j(t)},e.j=function(t){t===$t?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")},_(t,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}}]),t}(),Tt=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).type=3,e}return u(e,t),e.prototype.j=function(t){this.element[this.name]=t===$t?void 0:t},e}(kt),jt=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).type=4,e}return u(e,t),e.prototype.j=function(t){this.element.toggleAttribute(this.name,!!t&&t!==$t)},e}(kt),Lt=function(t){function e(e,n,r,i,o){var s;return(s=t.call(this,e,n,r,i,o)||this).type=5,s}u(e,t);var n=e.prototype;return n._$AI=function(t,e){var n;if(void 0===e&&(e=this),(t=null!=(n=Pt(this,t,e,0))?n:$t)!==At){var r=this._$AH,i=t===$t&&r!==$t||t.capture!==r.capture||t.once!==r.once||t.passive!==r.passive,o=t!==$t&&(r===$t||i);i&&this.element.removeEventListener(this.name,this,r),o&&this.element.addEventListener(this.name,this,t),this._$AH=t}},n.handleEvent=function(t){var e,n;"function"==typeof this._$AH?this._$AH.call(null!=(e=null==(n=this.options)?void 0:n.host)?e:this.element,t):this._$AH.handleEvent(t)},e}(kt),Rt=function(){function t(t,e,n){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}return t.prototype._$AI=function(t){Pt(this,t)},_(t,[{key:"_$AU",get:function(){return this._$AM._$AU}}]),t}(),It={P:nt,A:rt,C:it,M:1,L:Et,R:Ut,D:ct,V:Pt,I:Ct,H:kt,N:jt,U:Lt,B:Tt,F:Rt},Mt=X.litHtmlPolyfillSupport;null!=Mt&&Mt(Ot,Ct),(null!=(K=X.litHtmlVersions)?K:X.litHtmlVersions=[]).push("3.1.2");var Ht,Nt=function(t,e,n){var r,i=null!=(r=null==n?void 0:n.renderBefore)?r:e,o=i._$litPart$;if(void 0===o){var s,a=null!=(s=null==n?void 0:n.renderBefore)?s:null;i._$litPart$=o=new Ct(e.insertBefore(at(),a),a,void 0,null!=n?n:{})}return o._$AI(t),o},zt=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).renderOptions={host:a(e)},e._$Do=void 0,e}u(e,t);var n=e.prototype;return n.createRenderRoot=function(){var e,n=t.prototype.createRenderRoot.call(this);return null!=(e=this.renderOptions).renderBefore||(e.renderBefore=n.firstChild),n},n.update=function(e){var n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),t.prototype.update.call(this,e),this._$Do=Nt(n,this.renderRoot,this.renderOptions)},n.connectedCallback=function(){var e;t.prototype.connectedCallback.call(this),null==(e=this._$Do)||e.setConnected(!0)},n.disconnectedCallback=function(){var e;t.prototype.disconnectedCallback.call(this),null==(e=this._$Do)||e.setConnected(!1)},n.render=function(){return At},e}(Q);zt._$litElement$=!0,zt.finalized=!0,null==globalThis.litElementHydrateSupport||globalThis.litElementHydrateSupport({LitElement:zt});var Dt=globalThis.litElementPolyfillSupport;null==Dt||Dt({LitElement:zt}),(null!=(Ht=globalThis.litElementVersions)?Ht:globalThis.litElementVersions=[]).push("4.0.4");var Bt={attribute:!0,type:String,converter:G,reflect:!1,hasChanged:W};function qt(e){return n=t({},e,{state:!0,attribute:!1}),function(e,r){return"object"==typeof r?function(t,e,n){void 0===t&&(t=Bt);var r=n.kind,i=n.metadata,o=globalThis.litPropertyMetadata.get(i);if(void 0===o&&globalThis.litPropertyMetadata.set(i,o=new Map),o.set(n.name,t),"accessor"===r){var s=n.name;return{set:function(n){var r=e.get.call(this);e.set.call(this,n),this.requestUpdate(s,r,t)},init:function(e){return void 0!==e&&this.P(s,void 0,t),e}}}if("setter"===r){var a=n.name;return function(n){var r=this[a];e.call(this,n),this.requestUpdate(a,r,t)}}throw Error("Unsupported decorator location: "+r)}(n,e,r):function(e,n,r){var i=n.hasOwnProperty(r);return n.constructor.createProperty(r,i?t({},e,{wrapped:!0}):e),i?Object.getOwnPropertyDescriptor(n,r):void 0}(n,e,r)};var n}var Ft=function(){function t(t){}var e=t.prototype;return e._$AT=function(t,e,n){this._$Ct=t,this._$AM=e,this._$Ci=n},e._$AS=function(t,e){return this.update(t,e)},e.update=function(t,e){return this.render.apply(this,e)},_(t,[{key:"_$AU",get:function(){return this._$AM._$AU}}]),t}(),Vt=It.I,Gt=function(){return document.createComment("")},Wt=function(t,e,n){var r=t._$AA.parentNode,i=void 0===e?t._$AB:e._$AA;if(void 0===n){var o=r.insertBefore(Gt(),i),s=r.insertBefore(Gt(),i);n=new Vt(o,s,t,t.options)}else{var a,l=n._$AB.nextSibling,u=n._$AM,c=u!==t;if(c&&(null!=n._$AQ&&n._$AQ(t),n._$AM=t,void 0!==n._$AP&&(a=t._$AU)!==u._$AU&&n._$AP(a)),l!==i||c)for(var h=n._$AA;h!==l;){var f=h.nextSibling;r.insertBefore(h,i),h=f}}return n},Jt=function(t,e,n){return void 0===n&&(n=t),t._$AI(e,n),t},Kt={},Qt=function(t){null==t._$AP||t._$AP(!1,!0);for(var e=t._$AA,n=t._$AB.nextSibling;e!==n;){var r=e.nextSibling;e.remove(),e=r}};function Yt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Zt,Xt,te,ee,ne,re,ie,oe,se,ae,le,ue,ce,he,fe,de,pe,ve,ye,ge,me,be,_e,Ae,$e=function(t,e,n){for(var r=new Map,i=e;i<=n;i++)r.set(t[i],i);return r},xe=(Ae=function(t){function e(e){var n;if(n=t.call(this,e)||this,2!==e.type)throw Error("repeat() can only be used in text expressions");return a(n)}u(e,t);var n=e.prototype;return n.dt=function(t,e,n){var r;void 0===n?n=e:void 0!==e&&(r=e);for(var i,o=[],s=[],a=0,l=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Yt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yt(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(t);!(i=l()).done;){var u=i.value;o[a]=r?r(u,a):a,s[a]=n(u,a),a++}return{values:s,keys:o}},n.render=function(t,e,n){return this.dt(t,e,n).values},n.update=function(t,e){var n,r=e[0],i=e[1],o=e[2],s=function(t){return t._$AH}(t),a=this.dt(r,i,o),l=a.values,u=a.keys;if(!Array.isArray(s))return this.ut=u,l;for(var c,h,f=null!=(n=this.ut)?n:this.ut=[],d=[],p=0,v=s.length-1,y=0,g=l.length-1;p<=v&&y<=g;)if(null===s[p])p++;else if(null===s[v])v--;else if(f[p]===u[y])d[y]=Jt(s[p],l[y]),p++,y++;else if(f[v]===u[g])d[g]=Jt(s[v],l[g]),v--,g--;else if(f[p]===u[g])d[g]=Jt(s[p],l[g]),Wt(t,d[g+1],s[p]),p++,g--;else if(f[v]===u[y])d[y]=Jt(s[v],l[y]),Wt(t,s[p],s[v]),v--,y++;else if(void 0===c&&(c=$e(u,y,g),h=$e(f,p,v)),c.has(f[p]))if(c.has(f[v])){var m=h.get(u[y]),b=void 0!==m?s[m]:null;if(null===b){var _=Wt(t,s[p]);Jt(_,l[y]),d[y]=_}else d[y]=Jt(b,l[y]),Wt(t,s[p],b),s[m]=null;y++}else Qt(s[v]),v--;else Qt(s[p]),p++;for(;y<=g;){var A=Wt(t,d[g+1]);Jt(A,l[y]),d[y++]=A}for(;p<=v;){var $=s[p++];null!==$&&Qt($)}return this.ut=u,function(t,e){void 0===e&&(e=Kt),t._$AH=e}(t,d),At},e}(Ft),function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return{_$litDirective$:Ae,values:e}}),we={maxRelatedDiscussions:5,cacheHours:24,doxieApiUrl:"",doxieApiToken:"",relatedDiscussionsSourceId:"",botUser:"",botId:"",tagsToSources:[]},Se=(_e="related-discussions-settings",Zt=function(t,e){void 0!==e?e.addInitializer((function(){customElements.define(_e,t)})):customElements.define(_e,t)},Xt=qt(),te=qt(),ee=qt(),ne=qt(),re=qt(),Zt((oe=function(n){function r(){for(var t,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return s(t=n.call.apply(n,[this].concat(r))||this,"isLoading",se,a(t)),s(t,"config",ae,a(t)),s(t,"sources",le,a(t)),s(t,"bots",ue,a(t)),s(t,"tags",ce,a(t)),t}u(r,n);var i=r.prototype;return i.createRenderRoot=function(){return this},i.connectedCallback=function(){var t,e,r;n.prototype.connectedCallback.call(this),null==(t=this.parentElement)||null==(e=t.parentElement)||null==(r=e.querySelector(".Form-group"))||r.remove(),this.load()},i.load=function(){var t=o(f().mark((function t(){var e,n,r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isLoading=!0,this.requestUpdate(),t.prev=2,e=p().data.settings["badlogic-related-discussions.config"],console.log(e),e&&e.trim().length>0&&(this.config=JSON.parse(e)),!(this.config.doxieApiUrl.length>0&&this.config.doxieApiToken.length>0)){t.next=29;break}return t.next=9,fetch(this.config.doxieApiUrl+"/bots",{headers:{Authorization:"Bearer "+this.config.doxieApiToken}});case 9:if((n=t.sent).ok){t.next=13;break}return alert("Could not fetch bots. Check Doxie API URL and token. Status: "+n.status),t.abrupt("return");case 13:return t.next=15,n.json();case 15:return this.bots=t.sent,t.next=18,fetch(this.config.doxieApiUrl+"/sources",{headers:{Authorization:"Bearer "+this.config.doxieApiToken}});case 18:if((n=t.sent).ok){t.next=22;break}return alert("Could not fetch sources. Check Doxie API URL and token. Status: "+n.status),t.abrupt("return");case 22:return t.next=24,n.json();case 24:return this.sources=t.sent,t.next=27,p().request({method:"GET",url:p().forum.attribute("apiUrl")+"/tags"});case 27:r=t.sent,this.tags=r.data.map((function(t){return{name:t.attributes.name,description:t.attributes.description}}));case 29:t.next=35;break;case 31:t.prev=31,t.t0=t.catch(2),console.error(t.t0),alert("Could not load configuration");case 35:return t.prev=35,this.isLoading=!1,this.requestUpdate(),t.finish(35);case 39:case"end":return t.stop()}}),t,this,[[2,31,35,39]])})));return function(){return t.apply(this,arguments)}}(),i.render=function(){var t,n=this,r=function(t,e){var r=new URL(n.config.doxieApiUrl),i=(r.hostname.includes("localhost")||r.host.includes("192.168.")?"http://localhost:8080":n.config.doxieApiUrl.replace("/api",""))+"/bot/"+t;e.length>0&&(i+="?"+e.map((function(t){return"sourceId="+encodeURIComponent(t)})).join("&")),window.open(i,"_blank")};return this.isLoading?_t(he||(he=e(["<div>Loading ...</div>"]))):_t(fe||(fe=e(["<style>",'</style><div class="flex flex-col gap-2" style="position: relative;" @change='," @input=",'>\n      <h2>Doxie Configuration</h2>\n      <label class="font-semibold mt-4">Doxie API URL</label>\n      <span>E.g. https://doxietwo.mariozechner.at/api</span>\n      <input id="doxieApiUrl" class="self-start w-full" value=','>\n      <label class="font-semibold mt-4">Doxie Token</label>\n      <input id="doxieApiToken" class="self-start w-full" value=','>\n\n      <div class="flex gap-2 items-center">\n        <button class="self-start" @click=','>Reset config</button>\n        <button class="self-start" @click=',">Save</button>\n      </div>\n\n      ","\n    </div>"])),"\n.flex {\n  display: flex;\n}\n\n.flex-col {\n  flex-direction: column;\n}\n\n.flex-wrap {\n  flex-wrap: wrap;\n}\n\n.gap-2 {\n  gap: 0.5em;\n}\n\n.gap-4 {\n  gap: 1em;\n}\n\n.w-full {\n  width: 100%;\n}\n\n.h-full {\n  height: 100%;\n}\n\n.self-start {\n  align-self: flex-start;\n}\n\n.mt-4 {\n  margin-top: 1em;\n}\n\n.items-center {\n  align-items: center;\n}\n\n.sticky {\n  position: sticky;\n  top: 60px;\n}\n\n.text-xs\t{font-size: 0.75rem; line-height: 1rem; }\n.text-sm\t{font-size: 0.875rem; line-height: 1.25rem; }\n.text-base\t{font-size: 1rem; line-height: 1.5rem; }\n.text-lg\t{font-size: 1.125rem; line-height: 1.75rem; }\n.text-xl\t{font-size: 1.25rem; line-height: 1.75rem; }\n.font-semibold {font-weight: 600;}\n",(function(){return n.handleInput()}),(function(){return n.handleInput()}),this.config.doxieApiUrl,this.config.doxieApiToken,(function(){return n.reset()}),(function(){return n.save(0==n.bots.length&&0==n.sources.length)}),this.bots.length>0&&this.sources.length>0?_t(de||(de=e(['\n\n      <h2>Related discussions</h2>\n      <label class="font-semibold">Max. related discussions</label>\n      <input id="maxRelatedDiscussions" type="number" min="1" class="self-start" value=','>\n      <label class="font-semibold">Cache related discussions for N hours</label>\n      <input id="cacheHours" type="number" min="0" class="self-start" value=','>\n      <label class="font-semibold mt-4">Related discussions Doxie source</label>\n      <span class="text-xs">Doxie source to fetch related discussions from</span>\n      <select id="relatedDiscussionsSourceId" class="self-start">\n        ','\n      </select>\n\n      <h2>Answer bot</h2>\n      <label class="font-semibold">Forum user name of bot</label>\n      <input id="botUser" class="self-start" value=','>\n      <label class="font-semibold">Bot to use for answering questions</label>\n      <div class="flex items-center gap-2">\n        <select id="botId" class="self-start" style="padding: 0.25em 0.5em;">\n          ',"\n        </select>\n        <button @click=",'>Test</button>\n      </div>\n      <label class="font-semibold mt-4">Sources to use to answer questions with given tag</label>\n      ',"\n      "])),this.config.maxRelatedDiscussions,this.config.cacheHours,xe(this.sources,(function(t){return _t(pe||(pe=e(["<option value="," ?selected=",">","</option>"])),t.id,n.config.relatedDiscussionsSourceId==t.id,t.name)})),null!=(t=this.config.botUser)?t:"",xe(this.bots,(function(t){return _t(ve||(ve=e(["<option value="," ?selected=",">","</option>"])),t.id,n.config.botId==t.id,t.name)})),(function(){return r(n.config.botId,[])}),xe(this.tags,(function(t){return _t(ye||(ye=e(['\n        <div class="flex items-center gap-2 mt-4">\n          <span class="font-semibold self-start" style="border: 1px solid rgba(0, 0, 0, 0.3); border-radius: 5px; padding: 0.25em 0.5em;">',"</span>\n          <button @click=",'>Test</button>\n        </div>\n        <div class="flex flex-wrap gap-4">\n          ',"\n        </div>\n      "])),t.name,(function(){return r(n.config.botId,function(t){var e,r=n.config.tagsToSources.find((function(e){return e.tag.toLowerCase()==t.toLowerCase()})),i=null!=(e=null==r?void 0:r.sources)?e:[];return console.log(i),i}(t.name))}),xe(n.sources,(function(r){return _t(ge||(ge=e(['<label class="flex items-center gap-2"><input type="checkbox" ?checked='," @change=",">","</label>"])),function(t,e){return n.config.tagsToSources.some((function(n){return n.tag.toLowerCase()==t.toLowerCase()&&n.sources.some((function(t){return t==e.id}))}))}(t.name,r),(function(e){return function(t,e,r){var i=n.config.tagsToSources.find((function(e){return e.tag.toLowerCase()==t.toLowerCase()}));i||(i={tag:t,sources:[]},n.config.tagsToSources.push(i)),r.target.checked?i.sources.push(e.id):i.sources=i.sources.filter((function(t){return t!=e.id})),n.handleInput()}(t.name,r,e)}),r.name)})))}))):_t(me||(me=e(["<div></div>"]))))},i.reset=function(){var e=o(f().mark((function e(){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=2,e.next=5,p().request({method:"POST",url:p().forum.attribute("apiUrl")+"/settings",body:(n={},n["badlogic-related-discussions.config"]="",n),errorHandler:function(t){throw console.error("Failed to save settings:",t),t}});case 5:this.bots=[],this.sources=[],this.config=t({},we),this.load(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),alert("Could not save settings"),console.error("Error saving settings:",e.t0);case 15:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(){return e.apply(this,arguments)}}(),i.handleInput=function(){this.isLoading||(this.config.doxieApiUrl=this.querySelector("#doxieApiUrl").value,this.config.doxieApiUrl.endsWith("/")&&(this.config.doxieApiUrl=this.config.doxieApiUrl.substring(0,this.config.doxieApiUrl.length-1)),this.config.doxieApiToken=this.querySelector("#doxieApiToken").value,this.bots.length>0&&(this.config.botUser=this.querySelector("#botUser").value,this.config.maxRelatedDiscussions=parseInt(this.querySelector("#maxRelatedDiscussions").value),this.config.cacheHours=parseInt(this.querySelector("#cacheHours").value),this.config.relatedDiscussionsSourceId=this.querySelector("#relatedDiscussionsSourceId").value,this.config.botId=this.querySelector("#botId").value))},i.save=function(){var t=o(f().mark((function t(e){var n,r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=!1),n=JSON.stringify(this.config),t.prev=3,t.next=6,p().request({method:"POST",url:p().forum.attribute("apiUrl")+"/settings",body:(r={},r["badlogic-related-discussions.config"]=n,r),errorHandler:function(t){throw console.error("Failed to save settings:",t),t}});case 6:return console.log("Settings saved successfully."),t.prev=7,t.next=10,p().request({method:"DELETE",url:p().forum.attribute("apiUrl")+"/cache"});case 10:console.log("Cache cleared successfully"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(7),console.warn("Could not clear cache:",t.t0);case 16:e?(this.isLoading=!0,this.requestUpdate(),this.load()):this.requestUpdate(),t.next=24;break;case 19:throw t.prev=19,t.t1=t.catch(3),alert("Could not save settings"),console.error("Error saving settings:",t.t1),t.t1;case 24:case"end":return t.stop()}}),t,this,[[3,19],[7,13]])})));return function(e){return t.apply(this,arguments)}}(),r}(zt),se=c(oe.prototype,"isLoading",[Xt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ae=c(oe.prototype,"config",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return t({},we)}}),le=c(oe.prototype,"sources",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ue=c(oe.prototype,"bots",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ce=c(oe.prototype,"tags",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ie=oe))||ie),Ee=function(t){function n(){return t.apply(this,arguments)||this}u(n,t);var r=n.prototype;return r.view=function(){return m("div",{id:"lit-host"})},r.oncreate=function(n){t.prototype.oncreate.call(this,n);var r=document.getElementById("lit-host"),i=_t(be||(be=e(["<related-discussions-settings></related-discussions-settings>"])));r&&Nt(i,r)},n}(y());p().initializers.add("badlogic-related-discussions-custom-settings",(function(){p().extensionData.for("badlogic-related-discussions").registerSetting((function(){return m(Ee)}))}))})(),module.exports=r})();
//# sourceMappingURL=admin.js.map